{"version":3,"file":"commonHelpers.js","sources":["../src/js/images-api.js","../src/js/all-categories.js","../src/js/best-sellers.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/';\n\nfunction handleResponse(response) {\n  if (!response.data) {\n    throw new Error('Invalid response format');\n  }\n  return response.data;\n}\n\nfunction handleError(error) {\n  if (error.response) {\n    throw new Error(`Request failed with status ${error.response.status}`);\n  } else if (error.request) {\n    throw new Error('No response received from the server');\n  } else {\n    throw new Error(`Error setting up the request: ${error.message}`);\n  }\n}\n\nasync function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category-list`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/top-books`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getCategory(listname) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category?category=${listname}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getBooksById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/${id}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nexport {\n  getCategoryList,\n  getTopBooks,\n  getCategory,\n  getBooksById\n};","import { getCategoryList } from './images-api';\nimport { getCategory } from './images-api';\nconst allList = document.querySelector(`.all-categories`);\nconst listCategory = document.querySelector(`.book-category-list`);\ngetCategoryList()\n  .then(data => {\n    data\n      .sort((a, b) => (a.list_name > b.list_name ? 1 : -1))\n      .map(list => {\n        const { list_name } = list;\n\n        return allList.insertAdjacentHTML(\n          `beforeend`,\n          `<li ><a class=\"list-category\" href=\"\">${list_name}</a></li>`\n        );\n      })\n      .join(``);\n  })\n  .catch(error => console.log(error));\n\nallList.addEventListener(`click`, nameCategories);\n\nfunction nameCategories(e) {\n  e.preventDefault();\n  const categoriesName = e.target.textContent;\n  if (categoriesName) {\n    getCategory(categoriesName)\n      .then(data => {\n        console.log(data);\n        const listItem = data\n          .map(\n            ({ book_image, title, author, _id }) => `<div id=\"${_id}\">\n          <img src=\"${book_image}\" alt=\"${title}\" width=\"180px\" height=\"256px\" />\n          <p>${title}</p>\n          <p>${author}</p>\n        </div>`\n          )\n          .join(``);\n\n        return (listCategory.innerHTML = listItem);\n      })\n      .catch(err => console.log(err));\n  }\n}\n","import { getTopBooks, getCategory } from \"./images-api\";\n\nconst listCategory = document.querySelector('.book-category-list');\nconst bsH1 = document.querySelector('.Books-best-sellers-text');\n\nconst myBtn = document.querySelector('.scroll-btn');\n\nfunction renderCategoryBooks(categoryName) {\n  getCategory(categoryName)\n    .then(data => {\n      console.log(data);\n      const listItem = data\n        .map(({ book_image, title, author, _id }) => `\n          <li class=\"bs-book-item-fil\">\n            <img src=\"${book_image}\" alt=\"${title}\" class=\"bs-book-image\" />\n            <p class=\"title-book\">${title}</p>\n            <p class=\"author-book\">${author}</p>\n          </li>`)\n        .join('');\n\n      listCategory.innerHTML = `<ul class=\"bs-book-list-fil\">${listItem}</ul>`;\n    })\n    .catch(error => console.error('Error fetching data:', error));\n}\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  getTopBooks()\n    .then(data => {\n      const categoryListContainer = document.querySelector('.book-category-list');\n\n      data.forEach(category => {\n        const categoryTitle = document.createElement('h3');\n        categoryTitle.textContent = `${category.list_name}`.toUpperCase();\n        categoryTitle.className = 'bs-h3';\n\n        const booksList = document.createElement('ul');\n        booksList.className = 'bs-book-list';\n\n        category.books.forEach(book => {\n          const bookItem = document.createElement('li');\n          bookItem.className = 'bs-book-item';\n          bookItem.innerHTML = `\n            <img class=\"bs-book-image\" src=\"${book.book_image}\" alt=\"${book.title}\" />\n            <p class=\"title-book\">${book.title}</p>\n            <p class=\"author-book\">${book.author}</p>\n          `;\n          booksList.appendChild(bookItem);\n        });\n\n        categoryListContainer.appendChild(categoryTitle);\n        categoryListContainer.appendChild(booksList);\n\n        const seeMoreButton = document.createElement('button');\n        seeMoreButton.type = 'button';\n        seeMoreButton.classList.add('bs-buttom');\n        const seeMoreText = document.createElement('span');\n        seeMoreText.textContent = 'See More';\n        seeMoreText.classList.add('bs-buttom-name');\n        seeMoreButton.appendChild(seeMoreText);\n\n        categoryListContainer.appendChild(seeMoreButton);\n\n        seeMoreButton.addEventListener('click', function () {\n          renderCategoryBooks(category.list_name);\n          bsH1.textContent = category.list_name;\n        });\n      });\n    })\n    .catch(error => console.error('Error fetching data:', error));\n\n  myBtn.addEventListener('click', function () {\n    scrollToTop();\n  });\n});\n\nfunction scrollToTop() {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n}\n\nwindow.onscroll = function () {\n  scrollF();\n};\n\nfunction scrollF() {\n  if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {\n    myBtn.style.display = \"block\";\n  } else {\n    myBtn.style.display = \"none\";\n  }\n}\n"],"names":["BASE_URL","handleResponse","response","handleError","error","getCategoryList","axios","getTopBooks","getCategory","listname","allList","listCategory","data","a","b","list","list_name","nameCategories","categoriesName","listItem","book_image","title","author","_id","err","bsH1","myBtn","renderCategoryBooks","categoryName","categoryListContainer","category","categoryTitle","booksList","book","bookItem","seeMoreButton","seeMoreText","scrollToTop","scrollF"],"mappings":"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"}