{"version":3,"file":"commonHelpers.js","sources":["../src/js/images-api.js","../src/js/all-categories.js","../src/js/modal-window.js","../src/js/best-sellers.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/';\n\nfunction handleResponse(response) {\n  if (!response.data) {\n    throw new Error('Invalid response format');\n  }\n  return response.data;\n}\n\nfunction handleError(error) {\n  if (error.response) {\n    throw new Error(`Request failed with status ${error.response.status}`);\n  } else if (error.request) {\n    throw new Error('No response received from the server');\n  } else {\n    throw new Error(`Error setting up the request: ${error.message}`);\n  }\n}\n\nasync function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category-list`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/top-books`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getCategory(listname) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category?category=${listname}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getBooksById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/${id}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nexport {\n  getCategoryList,\n  getTopBooks,\n  getCategory,\n  getBooksById\n};","import { getCategoryList } from './images-api';\nimport { getCategory } from './images-api';\nimport { getTopBooks } from './images-api';\n// import './best-sellers.js';\nconst allList = document.querySelector(`.all-categories`);\nconst listCategory = document.querySelector(`.book-category-list`);\n// .book-category-list .bs-book-list\nconst textTitle = document.querySelector(`.Books-best-sellers-text`);\nconst activeCategory = document.querySelector(`.active-all-categories`);\nactiveCategory.classList.remove('inactive-all-categories');\n\ngetCategoryList()\n  .then(data => {\n    data\n      .sort((a, b) => (a.list_name > b.list_name ? 1 : -1))\n      .map(list => {\n        const { list_name } = list;\n\n        return allList.insertAdjacentHTML(\n          `beforeend`,\n          `<li><a class=\"list-category\"href=\"\">${list_name}</a></li>`\n        );\n      })\n      .join(``);\n  })\n  .catch(error => console.log(error));\n\nallList.addEventListener(`click`, nameCategories);\n\nfunction nameCategories(e) {\n  e.preventDefault();\n\n  const categoriesName = e.target.textContent;\n  if (categoriesName === `All categories`) {\n    activeCategory.classList.remove('inactive-all-categories');\n    activeCategory.classList.add('active-all-categories');\n    textTitle.innerHTML = `Best Sellers`;\n    const textSpan = ` Books`;\n    let span = document.createElement('span');\n    span.classList.add(`Books-best-sellers-text-span`);\n    span.textContent = textSpan;\n    textTitle.appendChild(span);\n    getTopBooks()\n      .then(data => {\n        const categoryListContainer = document.querySelector(\n          '.book-category-list'\n        );\n\n        data.forEach(category => {\n          const categoryTitle = document.createElement('h3');\n          categoryTitle.textContent = `${category.list_name}`.toUpperCase();\n\n          // add class\n          categoryTitle.className = 'bs-h3';\n\n          const booksList = document.createElement('ul');\n          // add class\n          booksList.className = 'bs-book-list';\n\n          category.books.forEach(book => {\n            const bookItem = document.createElement('li');\n            // add class\n            bookItem.className = 'bs-book-item';\n\n            // update code with add class\n            bookItem.innerHTML = `\n          <img class=\"bs-book-image\" src=\"${book.book_image}\" alt=\"${book.title}\"\" />\n          <p class=\"title-book\">${book.title}</p>\n          <p class=\"author-book\">${book.author}</p>\n        `;\n\n            booksList.appendChild(bookItem);\n          });\n\n          categoryListContainer.appendChild(categoryTitle);\n          categoryListContainer.appendChild(booksList);\n\n          const seeMoreButton = document.createElement('button');\n          seeMoreButton.type = 'button';\n          // add class\n          seeMoreButton.classList.add('bs-buttom');\n\n          // update code with add class\n          // seeMoreButton.textContent = 'See More';\n          const seeMoreText = document.createElement('span');\n          seeMoreText.textContent = 'See More';\n          seeMoreText.classList.add('bs-buttom-name');\n          seeMoreButton.appendChild(seeMoreText);\n\n          categoryListContainer.appendChild(seeMoreButton);\n        });\n      })\n      .catch(error => console.error('Error fetching data:', error));\n  } else {\n    activeCategory.classList.remove('active-all-categories');\n    activeCategory.classList.add('inactive-all-categories');\n    const nameTitle = categoriesName.split(` `);\n    const changeNameTitle = nameTitle.slice(0, -1);\n\n    const spanName = categoriesName.split(' ').pop();\n\n    textTitle.innerHTML = changeNameTitle.join(` `);\n    let span = document.createElement('span');\n    span.classList.add(`Books-best-sellers-text-span`);\n    span.textContent = ` ${spanName}`;\n    textTitle.appendChild(span);\n  }\n\n  if (categoriesName) {\n    getCategory(categoriesName)\n      .then(data => {\n        const listItem = data\n          .map(\n            ({\n              book_image,\n              title,\n              author,\n              _id,\n            }) => `<li id=\"${_id}\" class=\"bs-book-item\">\n      <img class=\"bs-book-image\" src=\"${book_image}\" alt=\"${title}\" />\n      <p class=\"title-book\">${title}</p>\n      <p class=\"author-book\">${author}</p>\n    </li>`\n          )\n          .join(``);\n\n        return (listCategory.innerHTML = listItem);\n      })\n      .catch(err => console.log(err));\n  }\n}\n\ngetTopBooks().then(data => {\n  console.log(data);\n});\n","\n\nexport function openModal(bookInfo) {\n    const modal = document.getElementById('myModal');\n    const modalImage = document.getElementById('modalImage');\n    const modalTitle = document.getElementById('modalTitle');\n    const modalAuthor = document.getElementById('modalAuthor');\n    const modalDes = document.getElementById('modalDescription');\n    // const modalAmazon = document.getElementById('amazon-modal');\n    // const modalAppleBook = document.getElementById('apple-book-modal')\n  const modalButton = document.getElementById('modal-button')\n  \n  const modalLi = document.getElementById('bs-book-item')\n\n    modal.style.display = 'block';\n\n    modalImage.src = `${bookInfo.image}`\n    modalTitle.textContent = `${bookInfo.title}`\n    modalAuthor.textContent = `${bookInfo.author}`\n    modalDes.textContent = `${bookInfo.description}`\n    // modalAmazon.src = modalAmazon;\n    // modalAppleBook.src = modalAppleBook;\n\n    const closeBtn = document.getElementsByClassName('close')[0];\n    \n    closeBtn.onclick = function () {\n      modal.style.display = 'none';\n    };\n    window.onclick = function (event) {\n      if (event.target === modal) {\n        modal.style.display = 'none';\n      }\n    };\n  }\n\n","import { getTopBooks } from \"./images-api\";\nimport { openModal } from \"./modal-window\";\n\ngetTopBooks()\n  .then(data => {\n    const categoryListContainer = document.querySelector('.book-category-list');\n\n    data.forEach(category => {\n\n      const categoryTitle = document.createElement('h3');\n      categoryTitle.textContent = `${category.list_name}`.toUpperCase();\n\n      // add class\n      categoryTitle.className = 'bs-h3';\n\n      const booksList = document.createElement('ul');\n      // add class\n      booksList.className = 'bs-book-list';\n\n      category.books.forEach(book => {\n        const bookItem = document.createElement('li');\n        // add class\n        bookItem.className = 'bs-book-item';\n\n        const bookInfo = {\n          title: book.title,\n          author: book.author,\n          image: book.book_image,\n          description: book.description,\n\n        };\n\n        // update code with add class\n        bookItem.innerHTML = `\n          <img src=\"${book.book_image}\" alt=\"${book.title}\" />\n          <p class=\"title-book\">${book.title}</p>\n          <p class=\"author-book\">${book.author}</p>\n        `;\n        booksList.appendChild(bookItem);\n        bookItem.addEventListener('click', () => {\n          openModal(bookInfo);\n        });\n      });\n\n      categoryListContainer.appendChild(categoryTitle);\n      categoryListContainer.appendChild(booksList);\n\n      const seeMoreButton = document.createElement('button');\n      seeMoreButton.type = 'button';\n      // add class\n      seeMoreButton.classList.add('bs-buttom');\n\n      // update code with add class\n      // seeMoreButton.textContent = 'See More';\n      const seeMoreText = document.createElement('span');\n      seeMoreText.textContent = 'See More';\n      seeMoreText.classList.add('bs-buttom-name');\n      seeMoreButton.appendChild(seeMoreText);\n\n      categoryListContainer.appendChild(seeMoreButton);\n    });\n  })\n  .catch(error => console.error('Error fetching data:', error));\n\n  //Code for scroll button\n  const myBtn = document.querySelector('.scroll-btn');\n\n  window.onscroll = function() {\n      scrollF();\n  };\n  \n  function scrollF() {\n      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {\n          myBtn.style.display = \"block\";\n      } else {\n          myBtn.style.display = \"none\";\n      }\n  }\n  \n  myBtn.addEventListener('click', function() {\n      scrollToTop();\n  });\n  \n  function scrollToTop() {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n  }\n"],"names":["BASE_URL","handleResponse","response","handleError","error","getCategoryList","axios","getTopBooks","getCategory","listname","allList","listCategory","textTitle","activeCategory","data","a","b","list","list_name","nameCategories","categoriesName","textSpan","span","categoryListContainer","category","categoryTitle","booksList","book","bookItem","seeMoreButton","seeMoreText","changeNameTitle","spanName","listItem","book_image","title","author","_id","err","openModal","bookInfo","modal","modalImage","modalTitle","modalAuthor","modalDes","closeBtn","event","myBtn","scrollF","scrollToTop"],"mappings":"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"}