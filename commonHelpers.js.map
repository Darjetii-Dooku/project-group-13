{"version":3,"file":"commonHelpers.js","sources":["../src/js/images-api.js","../src/js/all-categories.js","../src/js/best-sellers.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/';\n\nfunction handleResponse(response) {\n  if (!response.data) {\n    throw new Error('Invalid response format');\n  }\n  return response.data;\n}\n\nfunction handleError(error) {\n  if (error.response) {\n    throw new Error(`Request failed with status ${error.response.status}`);\n  } else if (error.request) {\n    throw new Error('No response received from the server');\n  } else {\n    throw new Error(`Error setting up the request: ${error.message}`);\n  }\n}\n\nasync function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category-list`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}books/top-books`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getCategory(listname) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/category?category=${listname}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nasync function getBooksById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/${id}`);\n    return handleResponse(response);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nexport {\n  getCategoryList,\n  getTopBooks,\n  getCategory,\n  getBooksById\n};","import { getCategoryList } from './images-api';\nconst allList = document.querySelector(`.all-categories`);\n\ngetCategoryList()\n  .then(data => {\n    data\n      .sort((a, b) => (a.list_name > b.list_name ? 1 : -1))\n      .map(list => {\n        const { list_name } = list;\n\n        return allList.insertAdjacentHTML(\n          `beforeend`,\n          `<li class=\"list-category\"><a href=\"\">${list_name}</a></li>`\n        );\n      })\n      .join(``);\n  })\n  .catch(error => console.log(error));\n","import { getTopBooks } from \"./images-api\"\n\ngetTopBooks()\n.then(data => {\n    const categoryListContainer = document.querySelector('.book-category-list');\n\n    data.forEach(category => {\n  \n      const categoryTitle = document.createElement('h3');\n      categoryTitle.textContent = `${category.list_name}`.toUpperCase();\n\n      const booksList = document.createElement('ul');\n      // add class\n      booksList.className = 'bs-book-list';\n\n      category.books.forEach(book => {\n        const bookItem = document.createElement('li');\n        // add class\n        bookItem.className = 'bs-book-item';\n        \n      // update code with add class\n        bookItem.innerHTML = `\n          <img src=\"${book.book_image}\" alt=\"${book.title}\"\" />\n          <p class=\"title-book\">${book.title}</p>\n          <p class=\"author-book\">${book.author}</p>\n        `;\n        \n        booksList.appendChild(bookItem);\n      });\n\n      categoryListContainer.appendChild(categoryTitle);\n      categoryListContainer.appendChild(booksList);\n\n      const seeMoreButton = document.createElement('button');\n      seeMoreButton.type = 'button';\n      // add class\n      seeMoreButton.classList.add('bs-buttom');\n\n      // update code with add class\n      // seeMoreButton.textContent = 'See More';\n      const seeMoreText = document.createElement('span');\n      seeMoreText.textContent = 'See More';\n      seeMoreText.classList.add('bs-buttom-name');\n      seeMoreButton.appendChild(seeMoreText);\n\n      categoryListContainer.appendChild(seeMoreButton);\n    });\n  })\n  .catch(error => console.error('Error fetching data:', error));\n\n"],"names":["BASE_URL","handleResponse","response","handleError","error","getCategoryList","axios","getTopBooks","allList","data","a","b","list","list_name","categoryListContainer","category","categoryTitle","booksList","book","bookItem","seeMoreButton","seeMoreText"],"mappings":"qFAEA,MAAMA,EAAW,uCAEjB,SAASC,EAAeC,EAAU,CAChC,GAAI,CAACA,EAAS,KACZ,MAAM,IAAI,MAAM,yBAAyB,EAE3C,OAAOA,EAAS,IAClB,CAEA,SAASC,EAAYC,EAAO,CAC1B,MAAIA,EAAM,SACF,IAAI,MAAM,8BAA8BA,EAAM,SAAS,QAAQ,EAC5DA,EAAM,QACT,IAAI,MAAM,sCAAsC,EAEhD,IAAI,MAAM,iCAAiCA,EAAM,SAAS,CAEpE,CAEA,eAAeC,GAAkB,CAC/B,GAAI,CACF,MAAMH,EAAW,MAAMI,EAAM,IAAI,GAAGN,sBAA6B,EACjE,OAAOC,EAAeC,CAAQ,CAC/B,OAAQE,EAAP,CACAD,EAAYC,CAAK,CAClB,CACH,CAEA,eAAeG,GAAc,CAC3B,GAAI,CACF,MAAML,EAAW,MAAMI,EAAM,IAAI,GAAGN,kBAAyB,EAC7D,OAAOC,EAAeC,CAAQ,CAC/B,OAAQE,EAAP,CACAD,EAAYC,CAAK,CAClB,CACH,CCpCA,MAAMI,EAAU,SAAS,cAAc,iBAAiB,EAExDH,EAAiB,EACd,KAAKI,GAAQ,CACZA,EACG,KAAK,CAACC,EAAGC,IAAOD,EAAE,UAAYC,EAAE,UAAY,EAAI,EAAG,EACnD,IAAIC,GAAQ,CACX,KAAM,CAAE,UAAAC,CAAW,EAAGD,EAEtB,OAAOJ,EAAQ,mBACb,YACA,wCAAwCK,YAClD,CACA,CAAO,EACA,KAAK,EAAE,CACd,CAAG,EACA,MAAMT,GAAS,QAAQ,IAAIA,CAAK,CAAC,ECfpCG,EAAa,EACZ,KAAKE,GAAQ,CACV,MAAMK,EAAwB,SAAS,cAAc,qBAAqB,EAE1EL,EAAK,QAAQM,GAAY,CAEvB,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,YAAc,GAAGD,EAAS,YAAY,cAEpD,MAAME,EAAY,SAAS,cAAc,IAAI,EAE7CA,EAAU,UAAY,eAEtBF,EAAS,MAAM,QAAQG,GAAQ,CAC7B,MAAMC,EAAW,SAAS,cAAc,IAAI,EAE5CA,EAAS,UAAY,eAGrBA,EAAS,UAAY;AAAA,sBACPD,EAAK,oBAAoBA,EAAK;AAAA,kCAClBA,EAAK;AAAA,mCACJA,EAAK;AAAA,UAGhCD,EAAU,YAAYE,CAAQ,CACtC,CAAO,EAEDL,EAAsB,YAAYE,CAAa,EAC/CF,EAAsB,YAAYG,CAAS,EAE3C,MAAMG,EAAgB,SAAS,cAAc,QAAQ,EACrDA,EAAc,KAAO,SAErBA,EAAc,UAAU,IAAI,WAAW,EAIvC,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDA,EAAY,YAAc,WAC1BA,EAAY,UAAU,IAAI,gBAAgB,EAC1CD,EAAc,YAAYC,CAAW,EAErCP,EAAsB,YAAYM,CAAa,CACrD,CAAK,CACL,CAAG,EACA,MAAMhB,GAAS,QAAQ,MAAM,uBAAwBA,CAAK,CAAC"}