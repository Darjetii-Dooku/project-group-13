import"./assets/support-c834f1e5.js";import{a as d}from"./assets/vendor-26fe51b3.js";const m="https://books-backend.p.goit.global/";function u(e){if(!e.data)throw new Error("Invalid response format");return e.data}function p(e){throw e.response?new Error(`Request failed with status ${e.response.status}`):e.request?new Error("No response received from the server"):new Error(`Error setting up the request: ${e.message}`)}async function g(){try{const e=await d.get(`${m}books/category-list`);return u(e)}catch(e){p(e)}}async function y(){try{const e=await d.get(`${m}books/top-books`);return u(e)}catch(e){p(e)}}async function b(e){try{const t=await d.get(`${m}books/category?category=${e}`);return u(t)}catch(t){p(t)}}const h=document.querySelector(".all-categories"),f=document.querySelector(".book-category-list");g().then(e=>{e.sort((t,o)=>t.list_name>o.list_name?1:-1).map(t=>{const{list_name:o}=t;return h.insertAdjacentHTML("beforeend",`<li ><a class="list-category" href="">${o}</a></li>`)}).join("")}).catch(e=>console.log(e));h.addEventListener("click",k);function k(e){e.preventDefault();const t=e.target.textContent;t&&b(t).then(o=>{console.log(o);const r=o.map(({book_image:s,title:n,author:c,_id:a})=>`<div id="${a}">
          <img src="${s}" alt="${n}" width="180px" height="256px" />
          <p>${n}</p>
          <p>${c}</p>
        </div>`).join("");return f.innerHTML=r}).catch(o=>console.log(o))}const $=document.querySelector(".book-category-list"),E=document.querySelector(".Books-best-sellers-text"),i=document.querySelector(".scroll-btn");function C(e){b(e).then(t=>{console.log(t);const o=t.map(({book_image:r,title:s,author:n,_id:c})=>`
          <li class="bs-book-item-fil">
            <img src="${r}" alt="${s}" class="bs-book-image" />
            <p class="title-book">${s}</p>
            <p class="author-book">${n}</p>
          </li>`).join("");$.innerHTML=`<ul class="bs-book-list-fil">${o}</ul>`}).catch(t=>console.error("Error fetching data:",t))}document.addEventListener("DOMContentLoaded",()=>{y().then(e=>{const t=document.querySelector(".book-category-list");e.forEach(o=>{const r=document.createElement("h3");r.textContent=`${o.list_name}`.toUpperCase(),r.className="bs-h3";const s=document.createElement("ul");s.className="bs-book-list",o.books.forEach(a=>{const l=document.createElement("li");l.className="bs-book-item",l.innerHTML=`
            <img class="bs-book-image" src="${a.book_image}" alt="${a.title}" />
            <p class="title-book">${a.title}</p>
            <p class="author-book">${a.author}</p>
          `,s.appendChild(l)}),t.appendChild(r),t.appendChild(s);const n=document.createElement("button");n.type="button",n.classList.add("bs-buttom");const c=document.createElement("span");c.textContent="See More",c.classList.add("bs-buttom-name"),n.appendChild(c),t.appendChild(n),n.addEventListener("click",function(){C(o.list_name),E.textContent=o.list_name})})}).catch(e=>console.error("Error fetching data:",e)),i.addEventListener("click",function(){L()})});function L(){document.body.scrollTop=0,document.documentElement.scrollTop=0}window.onscroll=function(){w()};function w(){document.body.scrollTop>100||document.documentElement.scrollTop>100?i.style.display="block":i.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
