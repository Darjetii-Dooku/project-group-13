import"./assets/support-c834f1e5.js";import{a as l}from"./assets/vendor-26fe51b3.js";const p="https://books-backend.p.goit.global/";function d(t){if(!t.data)throw new Error("Invalid response format");return t.data}function m(t){throw t.response?new Error(`Request failed with status ${t.response.status}`):t.request?new Error("No response received from the server"):new Error(`Error setting up the request: ${t.message}`)}async function h(){try{const t=await l.get(`${p}books/category-list`);return d(t)}catch(t){m(t)}}async function g(){try{const t=await l.get(`${p}books/top-books`);return d(t)}catch(t){m(t)}}async function b(t){try{const e=await l.get(`${p}books/category?category=${t}`);return d(e)}catch(e){m(e)}}const u=document.querySelector(".all-categories"),f=document.querySelector(".book-category-list");h().then(t=>{t.sort((e,o)=>e.list_name>o.list_name?1:-1).map(e=>{const{list_name:o}=e;return u.insertAdjacentHTML("beforeend",`<li ><a class="list-category" href="">${o}</a></li>`)}).join("")}).catch(t=>console.log(t));u.addEventListener("click",y);function y(t){t.preventDefault();const e=t.target.textContent;e&&b(e).then(o=>{console.log(o);const c=o.map(({book_image:r,title:n,author:a,_id:s})=>`<div id="${s}">
          <img src="${r}" alt="${n}" width="180px" height="256px" />
          <p>${n}</p>
          <p>${a}</p>
        </div>`).join("");return f.innerHTML=c}).catch(o=>console.log(o))}g().then(t=>{const e=document.querySelector(".book-category-list");t.forEach(o=>{const c=document.createElement("h3");c.textContent=`${o.list_name}`.toUpperCase();const r=document.createElement("ul");r.className="bs-book-list",o.books.forEach(s=>{const i=document.createElement("li");i.className="bs-book-item",i.innerHTML=`
          <img src="${s.book_image}" alt="${s.title}"" />
          <p class="title-book">${s.title}</p>
          <p class="author-book">${s.author}</p>
        `,r.appendChild(i)}),e.appendChild(c),e.appendChild(r);const n=document.createElement("button");n.type="button",n.classList.add("bs-buttom");const a=document.createElement("span");a.textContent="See More",a.classList.add("bs-buttom-name"),n.appendChild(a),e.appendChild(n)})}).catch(t=>console.error("Error fetching data:",t));
//# sourceMappingURL=commonHelpers.js.map
